:root{
  --bg1:#fff1f7;
  --bg2:#f2f7ff;
  --ink:#2b2a33;
  --muted:rgba(43,42,51,.65);
  --card:rgba(255,255,255,.72);
  --stroke:rgba(43,42,51,.10);
  --accent:#ff7dbb;
  --accent2:#7dd6ff;
  --accent3:#8b7dff;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;overflow:hidden;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--ink);
  font-family:ui-rounded,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,"Hiragino Kaku Gothic ProN","Yu Gothic",sans-serif}
#app{height:100%}

.screen{position:relative;height:100%}
canvas{position:absolute;inset:0;display:block}

.hud{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:14px;
  padding:22px 18px;max-width:520px;margin:0 auto}
.title{font-weight:1000;letter-spacing:.08em;font-size:30px;
  color:#2b2a33;text-shadow:0 10px 30px rgba(255,125,187,.25)}
.sub{font-size:13px;color:var(--muted)}

.meter{width:min(92vw,420px);height:18px;border-radius:999px;background:rgba(255,255,255,.55);overflow:hidden;
  box-shadow:inset 0 0 0 1px rgba(43,42,51,.08), 0 12px 30px rgba(0,0,0,.05)}
.meter__bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent2),var(--accent3),var(--accent));
  box-shadow:0 0 18px rgba(255,125,187,.35)}
.meter__ticks{display:flex;justify-content:space-between;margin-top:6px;font-size:11px;color:rgba(43,42,51,.55)}

.row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.pill{background:var(--card);border:1px solid var(--stroke);border-radius:999px;padding:8px 12px;font-size:13px;
  backdrop-filter: blur(10px);box-shadow:0 10px 22px rgba(0,0,0,.05)}

.hold{margin-top:8px;width:min(74vw,280px);height:78px;border-radius:26px;border:1px solid rgba(43,42,51,.10);
  background:linear-gradient(180deg,rgba(255,125,187,.95),rgba(255,170,210,.95));
  color:white;font-weight:1000;letter-spacing:.10em;
  box-shadow:0 20px 45px rgba(255,125,187,.25), 0 10px 22px rgba(0,0,0,.08);
}
.hold:active{transform:scale(.99)}
.hold.is-holding{animation:holdPulse .55s ease-in-out infinite;
  box-shadow:0 20px 45px rgba(255,125,187,.28), 0 0 0 10px rgba(255,125,187,.18)}
@keyframes holdPulse{0%{transform:scale(.99)}50%{transform:scale(1.03)}100%{transform:scale(.99)}}
.hold__label{display:block;font-size:20px}
.hold__hint{display:block;font-size:12px;opacity:.85;margin-top:4px}

.result{min-height:34px;margin-top:6px;padding:10px 14px;border-radius:16px;background:rgba(255,255,255,.60);
  border:1px solid rgba(43,42,51,.10);
  width:min(92vw,420px);text-align:center;font-weight:1000;letter-spacing:.06em;
  box-shadow:0 10px 22px rgba(0,0,0,.05)}
.result[data-tone="ok"]{background:rgba(125,214,255,.28);border-color:rgba(125,214,255,.40)}
.result[data-tone="ng"]{background:rgba(255,160,170,.25);border-color:rgba(255,160,170,.35)}
.result[data-tone="pity"]{background:rgba(255,230,170,.35);border-color:rgba(255,210,120,.45)}

/* Modal */
.modal{position:absolute;inset:0;display:none;align-items:center;justify-content:center;z-index:5;padding:18px;
  background:rgba(43,42,51,.18);backdrop-filter: blur(6px)}
.modal.is-open{display:flex}
.card{width:min(92vw,420px);border-radius:26px;background:rgba(255,255,255,.88);
  border:1px solid rgba(43,42,51,.10);
  box-shadow:0 30px 80px rgba(0,0,0,.20);
  padding:18px 16px;text-align:center}
.card__emoji{font-size:54px;line-height:1;margin:6px 0 10px}
.card__name{font-weight:1000;font-size:18px;margin:2px 0 8px}
.card__rarity{display:inline-flex;gap:8px;align-items:center;justify-content:center;
  padding:8px 12px;border-radius:999px;font-weight:1000;font-size:12px;
  border:1px solid rgba(43,42,51,.10);background:rgba(255,255,255,.7)}
.card__rarity[data-r="N"]{box-shadow:0 0 0 6px rgba(125,214,255,.18)}
.card__rarity[data-r="R"]{box-shadow:0 0 0 6px rgba(139,125,255,.18)}
.card__rarity[data-r="SR"]{box-shadow:0 0 0 6px rgba(255,125,187,.18)}

.btn{margin-top:14px;width:100%;height:46px;border-radius:16px;border:1px solid rgba(43,42,51,.10);
  background:linear-gradient(180deg,rgba(125,214,255,.95),rgba(160,235,255,.95));
  font-weight:1000;letter-spacing:.06em}

/* small safe area */
@supports(padding:max(0px)){
  .hud{padding-top:max(22px, env(safe-area-inset-top));padding-bottom:max(22px, env(safe-area-inset-bottom));}
}
